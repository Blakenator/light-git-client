<table class="table table-striped">
  <thead>
  <tr>
    <th>
      <div class="pretty p-icon p-curve">
        <input type="checkbox" [(ngModel)]="selectAll" (change)="toggleSelectAll()"/>
        <div class="state">
          <i class="icon material-icons">check</i>
          <label></label>
        </div>
      </div>
    </th>
    <th width="1%"></th>
    <th>
      File
      <i class="fa fa-filter" *ngIf="changeFilter" ngbTooltip="Filtered Results"></i>
    </th>
    <th *ngIf="settingsService.settings.splitFilenameDisplay">
      Path
      <i class="fa fa-filter" *ngIf="changeFilter" ngbTooltip="Filtered Results"></i>
    </th>
    <th width="1%"></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let c of _changes | filterObject : 'file' : changeFilter"
      (click)="toggleSelect(c.file,$event)"
      class="change">
    <td width="1%">
      <i [ngClass]="{far:true,'fa-check-square':selectedChanges[c.file],'fa-square':!selectedChanges[c.file]}"></i>
    </td>
    <td>
      <i class="fas fa-{{getChangeType(c)}}" [title]="getChangeTypeDescription(c)"></i>
    </td>
    <td *ngIf="settingsService.settings.splitFilenameDisplay" class="text-nowrap">
      <small>{{c.file.substring(c.file.lastIndexOf('/') + 1).replace('"', '')}}</small>
    </td>
    <td>
      <div class="change-filename" [title]="c.file">
        <div class="d-inline-block" *ngFor="let part of getSplitFilepath(c.file); let i=index">
          <span class="badge badge-light" *ngIf="part!='->'">{{part}}</span>
          <small *ngIf="part=='->'"><i class="fa fa-arrow-right"></i></small>
          <span *ngIf="i<c.file.replace('->','/->/').split('/').length-1 && part!='->' && c.file.replace('->','/->/').split('/')[i+1]!='->'">/</span>
        </div>
      </div>
    </td>
    <td class="center-text-vertical">
      <div class="btn-group">
        <button *ngIf="getChangeType(c)!='question-circle'&&getChangeType(c)!='plus'"
                class="btn btn-outline-warning btn-sm"
                title="Undo changes to this file"
                (click)="undoFileClicked(c.file)">
          <i class="fa fa-undo"></i>
        </button>
        <button class="btn btn-outline-success btn-sm"
                title="Open configured merge tool"
                (click)="mergeClicked(c.file)"
                *ngIf="isMergeConflict(c.change)">
          <i class="material-icons">merge_type</i>
        </button>
        <button class="btn btn-outline-danger btn-sm"
                title="Delete file"
                (click)="deleteClicked(c.file)"
                *ngIf="getChangeType(c)=='plus'||getChangeType(c)=='question-circle'">
          <i class="material-icons">delete</i>
        </button>
      </div>
    </td>
  </tr>
  </tbody>
</table>
