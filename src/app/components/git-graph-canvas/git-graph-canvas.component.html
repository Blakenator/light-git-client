<svg class="position-absolute" height="100%" [attr.width]="getSvgWidth() - 10">
  @for (block of commit.graphBlockTargets; track block) {
    <g>
      @if (block.target >= 0) {
        <path
          [attr.d]="getCurvedPathDef(block)"
          [attr.stroke]="getCommitBranchColor(block.branchIndex)"
          stroke-width="2"
          fill="transparent"
        ></path>
      }
    </g>
  }
  @if (spacerList; as spacers) {
    <g>
      @for (spacer of spacers; track spacer) {
        <path
          [attr.d]="getSpacerPathDef(spacer)"
          [attr.stroke]="getCommitBranchColor(spacer.branchIndex)"
          [style.borderRightColor]="getCommitBranchColor(spacer.branchIndex)"
          stroke-width="2px"
        ></path>
      }
      @for (spacer of spacers; track spacer) {
        <g>
          @if (spacer.isCommit && !spacer.isMerge) {
            <text
              [attr.x]="getSafeHoriz(spacer.source) - 6 + 'px'"
              [attr.y]="29"
              [attr.fill]="getCommitBranchColor(spacer.branchIndex)"
              class="commit-marker"
              font-size=".85em"
              >
              &#xf111;
            </text>
          }
          @if (spacer.isCommit && spacer.isMerge) {
            <text
              [attr.x]="getSafeHoriz(spacer.source) - 6 + 'px'"
              [attr.y]="29"
              class="commit-marker"
              [attr.fill]="settingsService.settings.darkMode ? 'white' : 'black'"
              >
              &#xf077;
            </text>
          }
        </g>
      }
    </g>
  }
</svg>
<div [style.width]="getSvgWidth() + 'px'"></div>
